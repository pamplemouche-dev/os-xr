<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pamplemouche XR - Basic Edition</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; background: #000; }
        /* Interface de contrôle 2D par-dessus la 3D */
        #ui-overlay {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            z-index: 100; display: flex; gap: 20px;
        }
        .btn {
            padding: 12px 24px; background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.4); border-radius: 30px;
            color: white; backdrop-filter: blur(10px); cursor: pointer;
            font-family: sans-serif; transition: 0.3s;
        }
        .btn:hover { background: rgba(255,255,255,0.4); }
    </style>
</head>
<body>

    <div id="ui-overlay">
        <button class="btn" onclick="toggleApp('mail-window')">Mails</button>
        <button class="btn" onclick="toggleApp('video-window')">Cinéma</button>
        <button class="btn" onclick="resetView()">Reset Vue</button>
    </div>

    <a-scene background="color: #111">
        <a-sky src="https://dl.polyhaven.org/file/ph-assets/Environments/jpg/4k/modern_buildings_2.jpg" rotation="0 -90 0"></a-sky>

        <a-camera id="main-cam">
            <a-cursor color="#FFF" radius-inner="0.005" radius-outer="0.01"></a-cursor>
        </a-camera>

        <a-entity id="mail-window" position="-1.5 1.6 -2.5" visible="true">
            <a-plane width="2" height="1.2" material="color: white; opacity: 0.15; transparent: true; roughness: 0; metalness: 0.1" 
                     animation="property: position; to: -1.5 1.65 -2.5; dir: alternate; dur: 3000; loop: true">
                <a-text value="Boite de Réception" align="center" position="0 0.4 0.01" color="white" width="3"></a-text>
                <a-text value="- Meeting avec l'équipe (10h)\n- Projet Lunettes XR (Update)\n- Facture Apple Store" 
                        align="left" position="-0.8 0 0.01" color="white" width="2"></a-text>
            </a-plane>
        </a-entity>

        <a-entity id="video-window" position="1.5 1.8 -4" visible="true">
            <a-plane width="3.5" height="2" material="color: black; opacity: 0.8; transparent: true">
                <a-text value="LECTEUR VIDEO" align="center" color="#00ffcc" width="6"></a-text>
                <a-circle position="0 0 0.02" radius="0.2" color="#00ffcc"></a-circle>
            </a-plane>
        </a-entity>

        <a-entity position="0 1 -2">
            <a-circle radius="0.15" color="#555" opacity="0.5" position="-0.5 0 0"></a-circle>
            <a-circle radius="0.15" color="#555" opacity="0.5" position="0 0 0"></a-circle>
            <a-circle radius="0.15" color="#555" opacity="0.5" position="0.5 0 0"></a-circle>
        </a-entity>

    </a-scene>

    <script>
        function toggleApp(id) {
            const el = document.getElementById(id);
            const isVisible = el.getAttribute('visible');
            el.setAttribute('visible', !isVisible);
        }

        function resetView() {
            const cam = document.getElementById('main-cam');
            cam.setAttribute('rotation', '0 0 0');
            cam.setAttribute('position', '0 1.6 0');
        }
    </script>
</body>
</html>
